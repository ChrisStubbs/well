<div class="table-container">
    <ol class="breadcrumb">
        <li class="active">Routes</li>
    </ol>
</div>
<div class="jumbotron">
    <div class="content" *ngIf="!isLoading">
        <div class="row">
            <p-dataTable [value]="routes" [rows]="10" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[5,10,20,30,40,50]" #dt [(selection)]="selectedRoutes">
                <p-column header="Branch" field="branch" [filter]="true" filterMatchMode="contains" [sortable]="true">
                    <ng-template pTemplate="filter" let-col>
                        <select class="form-control" id="searchBranch"
                                (change)="dt.filter($event.target.value,col.field,col.filterMatchMode)">
                            <option *ngFor="let branch of branches" [value]="branch[0] || '' ">
                                {{ branch[1] }}
                            </option>
                        </select>
                    </ng-template>
                </p-column>
                <p-column header="Route" field="route" [filter]="true" filterMatchMode="contains" [sortable]="true"></p-column>
                <p-column header="Date" field="routeDate" [filter]="true" filterMatchMode="contains" [sortable]="true" [style]="{'overflow':'visible','width':'200px'}">
                    <ng-template pTemplate="filter">
                        <p-calendar id="searchDate" [showIcon]="true" dateFormat="dd M yy"></p-calendar>
                    </ng-template>

                    <ng-template let-route="rowData" pTemplate="body">
                        <span>
                            {{route.routeDate | date:'dd MMM yy' }}
                        </span>
                    </ng-template>
                </p-column>
                <p-column header="Stops" field="stopCount" [filter]="true" filterMatchMode="equals" [sortable]="true"></p-column>
                <p-column header="Status" field="routeStatus" [filter]="true" filterMatchMode="contains" [sortable]="true">
                    <ng-template pTemplate="filter" let-col>
                        <select class="form-control" id="searchStatus"
                                (change)="dt.filter($event.target.value,col.field,col.filterMatchMode)">
                            <option *ngFor="let status of jobStatus" [value]="status[0]">
                                {{ status[1] }}
                            </option>
                        </select>
                    </ng-template>
                </p-column>
                <p-column header="Exceptions" field="exceptionCount" [filter]="true" filterMatchMode="equals" [sortable]="true"></p-column>
                <p-column header="Driver" field="driverName" [filter]="true" filterMatchMode="contains" [sortable]="true"></p-column>
                <p-column header="Assignee" field="assignee" [filter]="true" filterMatchMode="contains" [sortable]="true"></p-column>
                <p-column [style]="{'width':'38px'}" selectionMode="multiple"></p-column>
            </p-dataTable>
        </div>
    </div>


</div>

